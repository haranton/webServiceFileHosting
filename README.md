## Описание

Веб-сервис на Go, который позволяет пользователю отправлять задачи со списком ссылок на файлы для скачивания.  
Сервис загружает файлы в указанную папку и предоставляет API для получения статуса задачи.

## Архитектура и паттерны

- **Gin** — HTTP-сервер и маршрутизация.
- **Очередь (Queue)** — внутренний канал для постановки файлов в обработку.
- **Worker Pool** — несколько горутин загружают файлы параллельно.
- **Storage (JSON-файлы)** — задачи и статусы сохраняются на диск, вместо использования внешней БД.
- **Downloader** — отвечает за скачивание файлов, обработку ошибок и уникальные имена файлов.
- **Graceful shutdown** — при завершении работы сервер дожидается завершения активных соединений.
- **Конфигурация через cleanenv** — настройки задаются в `config.yaml` или через переменные окружения.

 ## Основные возможности

- **Создание задачи**
  - Пользователь отправляет список ссылок на файлы (`POST /tasks`).
  - Сервис сохраняет задачу в хранилище (JSON на диске).
  - Каждый файл получает начальный статус `Pending`.
  - Файлы автоматически добавляются в очередь на скачивание.

- **Автоматическая загрузка**
  - После создания задачи её файлы тут же попадают в очередь.
  - Несколько воркеров (горутин) начинают скачивание параллельно.
  - Поддерживаются уникальные имена файлов (если в задаче есть два файла с одинаковым названием, имена будут автоматически различаться: `file.txt`, `file_1.txt`, ...).

- **Мониторинг статуса**
  - Для каждой задачи можно запросить текущее состояние (`GET /tasks/:id`).
  - У каждого файла статусы переходят по цепочке:
    - `Pending` → `InProgress` → `Done` (или `Failed` в случае ошибки).
  - Все изменения моментально сохраняются в JSON, что позволяет не потерять информацию при сбое.

- **Устойчивость к перезапуску**
  - Все задачи сохраняются в директории `tasks/`.
  - При перезапуске сервиса unfinished файлы автоматически возвращаются в очередь и продолжают скачивание.
  - Новые задачи можно создавать даже во время остановки сервиса (они сохранятся и будут выполнены после рестарта).

- **Graceful shutdown**
  - При получении сигнала `SIGINT` или `SIGTERM` сервис корректно завершает работу.
  - Текущие HTTP-запросы обрабатываются до конца.
  - Очередь задач сохраняется в хранилище, и при следующем старте обработка продолжается.

- **Конфигурирование**
  - Настройки сервера и загрузчика описаны в `config.yaml` и могут быть переопределены переменными окружения.
  - Используется библиотека `cleanenv` для удобного управления конфигами.

- **Логирование**
  - Все ключевые события фиксируются в логах:
    - создание задачи,
    - постановка файлов в очередь,
    - начало и завершение загрузки,
    - ошибки при скачивании или сохранении.

